(this.webpackJsonpFE=this.webpackJsonpFE||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/user.3c92a01e.jpg"},59:function(e,t,n){e.exports=n(84)},84:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(44),c=n.n(o),l=n(16),s=n(4),u=n(56),i=function(e){var t=e.component,n=Object(u.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))},m=n(15),p=n(8),d=n(3),h=n(6),b=n(7),g=n(85),f=n(19),E=n.n(f),v=function(){var e=localStorage.getItem("token");return E.a.create({baseURL:"https://lambda-sprout.herokuapp.com/",headers:{Authorization:e}})},j=b.a().shape({username:b.c().min(5,"minimum of 5 characters required").required(),password:b.c().min(7,"minimum of 7 characters required").required()});var O=function(){var e=Object(a.useState)({username:"",password:""}),t=Object(h.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)({username:"",password:""}),l=Object(h.a)(c,2),s=l[0],u=l[1],i=Object(a.useState)(!0),m=Object(h.a)(i,2),f=m[0],E=m[1],O=Object(a.useState)([]),x=Object(h.a)(O,2),w=x[0],y=x[1];Object(a.useEffect)((function(){j.isValid(n).then((function(e){E(!e)}))}),[n]);var k=function(e){e.persist();var t=Object(d.a)(Object(d.a)({},n),{},Object(p.a)({},e.target.name,e.target.value));!function(e){b.b(j,e.target.name).validate(e.target.value).then((function(t){u(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,"")))})).catch((function(t){u(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,t.errors[0])))}))}(e),o(t)};return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"LOGIN"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v().post("https://lambda-sprout.herokuapp.com/login",n).then((function(e){y(e.data),console.log("logged in",w),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId),o({username:"",password:""})}))}},r.a.createElement("label",{htmlFor:"username",className:"loginUsername"},"Enter username",r.a.createElement("input",{type:"text",id:"username",name:"username",required:!0,onChange:k,value:n.username,placeholder:"       Enter username"}),s.username.length>5?r.a.createElement("p",{className:"error"},s.username):null),r.a.createElement("label",{htmlFor:"password",className:"loginPassword"},"Enter password",r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0,onChange:k,value:n.password,minLength:"7",placeholder:"       Enter password"}),s.password.length>7?r.a.createElement("p",{className:"error"},s.password):null),r.a.createElement(g.a,{color:"warning",disabled:f,type:"submit"},"Log In")))},x=n(55);var w=function(e){var t=e.errors;return r.a.createElement("div",null,r.a.createElement("input",e),0!=e.errors.length&&r.a.createElement("p",{style:{color:"cyan"}},t))};function y(){var e=Object(l.a)(["\n   width: 100%;\n   height: 100%;\n   display: flex;\n   font-family: 'Gotham SSm A', 'Gotham SSm B', sans-serif;\n   justify-content: center;\n   align-items: center;\n   border-radius: 10px;\n   font-family: \"Karma\", sans-serif;\n   @media(max-width: 600px){\n    width: 100%;\n}\n   .innerWrapper{\n    width: 40%;\n    margin-bottom: 40px;\n    padding: 4rem;\n    background: gray;\n    color: lightgray;\n    box-sizing: border-box;\n    @media(max-width: 800px){\n     width: 100%;\n  }\n   }\n\n   .input{\n     border: 0;\n     width: 90%;\n     background: lightgray;\n     margin: 5px 0 10px 0;\n     color: #282828;\n     font-size: 16px;\n     padding: 10px 14px;\n     outline: none;\n     line-height: normal;\n     box-shadow: none;\n     @media(max-width: 800px){\n      width: 100%;\n  }\n     :focus{\n       border-bottom: 1px solid cyan;\n     }\n   }\n  \n   button{\n     width: 97%;\n     margin-top: 10px;\n     padding: 10px;\n     outline: none;\n     transition-duration: 0.4s;\n     font-size: 16px;\n     outline: none;\n     border: 0;\n     :hover{\n      \n       background-color: #4CAF50;\n       cursor: pointer;\n\n     }\n   }\n"]);return y=function(){return e},e}function k(){var e=Object(l.a)(["\n\n   width: 100%;\n   height: 250px;\n   display: flex;\n   font-family: 'Gotham SSm A', 'Gotham SSm B', sans-serif;\n   justify-content: center;\n   border-radius: 10px;\n   font-family: \"Karma\", sans-serif;\n   @media(max-width: 600px){\n    width: 100%;\n}\nh1{\n  margin-top: 50px;\n}\n\n"]);return k=function(){return e},e}var N={id:Date.now(),nickname:"",species:"",h2oFrequency:""},S=m.a.div(k()),q=m.a.div(y()),I=function(e){var t=e.plants,n=e.updatePlants,o=Object(a.useState)(!1),c=Object(h.a)(o,2),l=c[0],u=c[1],i=Object(a.useState)(N),m=Object(h.a)(i,2),g=m[0],f=m[1],E=Object(a.useState)(N),j=Object(h.a)(E,2),O=j[0],y=j[1],k=Object(a.useState)(Object(d.a)({},N)),I=Object(h.a)(k,2),C=I[0],F=I[1],P=Object(a.useState)(!0),A=Object(h.a)(P,2),D=A[0],U=A[1],G=(Object(s.g)(),localStorage.getItem("userId")),L=b.a().shape({nickname:b.c().required("Please Enter Plant's Nickname"),species:b.c().required("Please Enter Your Plant Species"),h2oFrequency:b.c().required("Please Enter Plant's Water Frequency")});Object(a.useEffect)((function(){L.isValid(O).then((function(e){U(!e)}))}),[O]);var z=function(e){y(Object(d.a)(Object(d.a)({},O),{},Object(p.a)({},e.target.name,e.target.value))),function(e){e.persist(),b.b(L,e.target.name).validate(e.target.value).then((function(t){F(Object(d.a)(Object(d.a)({},C),{},Object(p.a)({},e.target.name,"")))})).catch((function(t){F(Object(d.a)(Object(d.a)({},C),{},Object(p.a)({},e.target.name,t.errors[0]))),console.log(t.errors[0])}))}(e)};return console.log(t),r.a.createElement("div",null,r.a.createElement(S,null,r.a.createElement("h1",{className:"plantsdisplay"},"Your Plants"),r.a.createElement("ul",null,t.length<1?r.a.createElement("div",null,"LOADING"):t.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return function(e){u(!0),f(e)}(e)}},r.a.createElement("span",null,r.a.createElement("span",{className:"delete",onClick:function(a){!function(e){v().delete("https://lambda-sprout.herokuapp.com/plants/".concat(e.id)).then((function(a){n(t.filter((function(t){return t.id!==e.id})))})).catch((function(e){return console.log(e)}))}(e)}},"x")," ",e.nickname))}))),l&&r.a.createElement("form",{className:"editform",onSubmit:function(e){e.preventDefault(),v().put("https://lambda-sprout.herokuapp.com/plants/".concat(g.id),g).then((function(e){console.log(e),v().get("https://lambda-sprout.herokuapp.com/users/".concat(G,"/plants")).then((function(e){n(e.data),u(!1)})).catch((function(e){return console.log(e)}))}))}},r.a.createElement("legend",null,"edit plant"),r.a.createElement("label",null,"plant nickname:",r.a.createElement("input",{onChange:function(e){return f(Object(d.a)(Object(d.a)({},g),{},{nickname:e.target.value}))},value:g.nickname})),r.a.createElement("label",null,"species:",r.a.createElement("input",{onChange:function(e){return f(Object(d.a)(Object(d.a)({},g),{},{species:e.target.value}))},value:g.species})),r.a.createElement("label",null,"h2oFrequency:",r.a.createElement("input",{onChange:function(e){return f(Object(d.a)(Object(d.a)({},g),{},{h2oFrequency:e.target.value}))},value:g.h2oFrequency})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"save"),r.a.createElement("button",{onClick:function(){return u(!1)}},"cancel")))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v().post("https://lambda-sprout.herokuapp.com/users/".concat(G,"/plants"),O).then((function(e){var a=[].concat(Object(x.a)(t),[e.data]);n(a),y(N)})).catch((function(e){return console.log(e)}))}},r.a.createElement(q,null,r.a.createElement("div",{className:"innerWrapper"},r.a.createElement("label",{htmlFor:"nickname"},"Plant Nickname: "),r.a.createElement(w,{className:"input",type:"text",name:"nickname",id:"nickname",value:O.nickname,onChange:z,errors:C.nickname}),r.a.createElement("label",{htmlFor:"species"},"Species: "),r.a.createElement(w,{className:"input",type:"text",name:"species",id:"species",value:O.species,onChange:z,errors:C.species}),r.a.createElement("label",{htmlFor:"h2oFrequency"},"H2OFrequency: "),r.a.createElement(w,{className:"input",type:"text",name:"h2oFrequency",id:"h2oFrequency",value:O.h2oFrequency,onChange:z,errors:C.h2oFrequency}),r.a.createElement("button",{type:"submit",className:"btn btn-primary list-button",disabled:D},"Add a new plant!")))))},C=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],o=t[1],c=localStorage.getItem("userId");return Object(a.useEffect)((function(){v().get("https://lambda-sprout.herokuapp.com/users/".concat(c,"/plants")).then((function(e){o(e.data)}))}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{plants:n,updatePlants:o}))},F=n(14);function P(){var e=Object(l.a)(["\nbackground-color: lightgray;\ndisplay: flex;\njustify-content: flex-end;\nborder-radius: 20px;\n\n.link {\n    margin: 10px;\n    text-decoration: none;\n    color: black;\n    padding: 10px;\n    padding-top: 10px;\n\n    &:hover{\n        color: gray;\n    }\n\n}\n\na.active{\n    color: gray;\n    background: lightgray;\n}\n\n\n"]);return P=function(){return e},e}var A=function(){return r.a.createElement(D,{className:"nav"},r.a.createElement(F.b,{className:"link",activeClassName:"active",exact:!0,to:"/"},"Login"),r.a.createElement(F.b,{className:"link",activeClassName:"active",to:"/signup"},"Sign Up"),r.a.createElement(F.b,{className:"link",activeClassName:"active",to:"/plants"},"My Plants"),r.a.createElement(F.b,{className:"link",activeClassName:"active",to:"/profile"},"My Profile"))},D=m.a.div(P()),U=b.a().shape({username:b.c().min(6,"minimum of 6 characters required").required("Username is a required field"),phoneNumber:b.c().min(12,"Please use 111-111-1111 format").required(),password:b.c().min(10,"minimum of 10 characters required").required()});var G=function(){var e=Object(a.useState)({username:"",phoneNumber:"",password:""}),t=Object(h.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)({username:"",phoneNumber:"",password:""}),l=Object(h.a)(c,2),s=l[0],u=l[1],i=Object(a.useState)(!0),m=Object(h.a)(i,2),f=m[0],v=m[1],j=Object(a.useState)([]),O=Object(h.a)(j,2),x=O[0],w=O[1];Object(a.useEffect)((function(){U.isValid(n).then((function(e){v(!e)}))}),[n]);var y=function(e){e.persist();var t=Object(d.a)(Object(d.a)({},n),{},Object(p.a)({},e.target.name,e.target.value));!function(e){b.b(U,e.target.name).validate(e.target.value).then((function(t){u(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,"")))})).catch((function(t){u(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,t.errors[0])))}))}(e),o(t)};return r.a.createElement("div",{className:"signup"},r.a.createElement("h1",null,"SIGNUP"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E.a.post("https://lambda-sprout.herokuapp.com/register",n).then((function(e){w(e.data),console.log("Registered!",x),o({username:"",phoneNumber:"",password:""})}))}},r.a.createElement("label",{htmlFor:"username",className:"username"},"Create username:",r.a.createElement("input",{type:"text",id:"username",name:"username",required:!0,onChange:y,value:n.username,placeholder:"Create a unique username"}),s.username.length>6?r.a.createElement("p",{className:"error"},s.username):null),r.a.createElement("label",{htmlFor:"phoneNumber",className:"phone"},"Enter your phone number",r.a.createElement("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",onChange:y,value:n.phoneNumber,pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",required:!0,placeholder:"       123-456-7890"}),s.phoneNumber.length>12?r.a.createElement("p",{className:"error"},s.phoneNumber):null),r.a.createElement("label",{htmlFor:"password",className:"password"},"Create a password",r.a.createElement("input",{type:"password",id:"password",name:"password",onChange:y,value:n.password,minLength:"10",required:!0,placeholder:"       Enter password"}),s.password.length>10?r.a.createElement("p",{className:"error"},s.password):null),r.a.createElement(g.a,{color:"warning",disabled:f,type:"submit"},"Sign Up")))},L=n(52),z=n(53),M=n(57),Y=n(54),B=n(27),W=n.n(B);function K(){var e=Object(l.a)(["\n    box-shadow: 0px 2px 2px #9464FA;\n    text-align : center;\n    width: 400px;\n    border-radius: 5px;\n    padding-top: 60px;\n    padding-bottom: 60px;\n    margin: 50px auto;\n    .input{\n          margin: 5px;\n          height: 25px;\n          width : 300px;\n          border-radius: 5px;\n          border: none;\n          box-shadow: 0 2px 4px #272727;\n          text-align:center;\n          @media(max-width: 479px){\n              width: 250px;\n          }\n    }\n      button{\n        background-color: #009FB7;\n        border-radius: 5px;\n        color : white;\n        margin: 10px;\n        height: 30px;\n        border: none;       \n      }\n      button:hover{\n          box-shadow: 0 2px 4px #272727;\n          transform: scaleX(1.025) scaleY(1.025);\n          cursor : pointer;\n          transition: all 0.2s;\n      }\n      }\n    }\n  "]);return K=function(){return e},e}function V(){var e=Object(l.a)(["\n        background-image: url(",");\n        background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-position: center;\n      width: 1500px;\n      height: 1000px;\n"]);return V=function(){return e},e}var J=function(e){Object(M.a)(n,e);var t=Object(Y.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).handleInput=function(e){e.preventDefault(),a.setState(Object(p.a)({},e.target.name,e.target.value))},a.updateInfo=function(e,t){e={username:a.state.username,password:a.state.password,phoneNumber:a.state.phoneNumber},t=localStorage.getItem("userId"),console.log(t);var n="https://lambda-sprout.herokuapp.com//api/users/".concat(t)||!1;try{E.a.put(n,e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log(e),a.setState({username:e.data.username,phoneNumber:e.data.phoneNumber,password:e.data.password}),alert("Your Update Submitted Successfully"),console.log(e.data.phoneNumber),a.props.history.push("/plants")}))}catch(r){console.log(r)}},a.deleteMyAccount=function(e){e=localStorage.getItem("userId");var t="https://lambda-sprout.herokuapp.com/api/users/".concat(e)||!1;alert("Your Account Will be deleted permanantly");try{E.a.delete(t).then((function(e){console.log(e),localStorage.clear(),sessionStorage.clear(),alert("Your Account deleted Successfully"),a.props.history.push("/"),window.location.reload(!0)}))}catch(n){console.log(n)}},a.state={username:"",phoneNumber:"",password:""},a}return Object(z.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("userId"),n="https://lambda-sprout.herokuapp.com/api/users/".concat(t);this.setState({id:t});try{E.a.get(n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){e.setState({username:t.data.username,phoneNumber:t.data.phoneNumber})}))}catch(a){console.log(a)}}},{key:"render",value:function(){return r.a.createElement(H,null,r.a.createElement(X,null,r.a.createElement("div",{className:"loginform"},r.a.createElement("form",{onSubmit:this.updateInfo},r.a.createElement("input",{className:"input",onChange:this.handleInput,placeholder:"name",value:this.state.username,name:"username"}),r.a.createElement("input",{className:"input",type:"password",onChange:this.handleInput,placeholder:" new password",value:this.state.password,name:"password"}),r.a.createElement("input",{className:"input",onChange:this.handleInput,placeholder:"phone#",value:this.state.phoneNumber,name:"phone"})),r.a.createElement("div",{className:"btn"},r.a.createElement("button",{onClick:this.deleteMyAccount}," Delete My Account permanantly"),r.a.createElement("button",{className:"updateBtn",onClick:this.updateInfo},"Update")))))}}]),n}(r.a.Component),R=Object(s.h)(J),H=m.a.div(V(),W.a),X=m.a.div(K());function Q(){var e=Object(l.a)(["\nbackground-image: url(",');\nbackground-repeat: repeat;\nbackground-position: center;\nwidth: 100%;\nheight: 1000px;\nmargin: 0;\noutline: none;\nfont-family: "Karma", sans-serif ;\n\n']);return Q=function(){return e},e}var T=m.a.div(Q(),W.a),Z=function(){return r.a.createElement(T,null,r.a.createElement(A,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:O}),r.a.createElement(s.b,{path:"/signup",component:G}),r.a.createElement(i,{path:"/plants",component:C}),r.a.createElement(i,{path:"/profile",component:R})))},$=document.getElementById("root");c.a.render(r.a.createElement(F.a,null,r.a.createElement(Z,null)),$)}},[[59,1,2]]]);
//# sourceMappingURL=main.f90b25b9.chunk.js.map